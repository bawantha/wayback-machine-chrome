{"version":3,"file":"radial-tree.umd.js","sources":["../src/js/index.js"],"sourcesContent":["/**\n * Radial Tree Library\n * \n * @param {DOMElement} element\n @ @param {Array} cdx_data: decoded CDX Query data retrieved by:\n  ``/web/timemap/json?url=example.com/&fl=timestamp:4,original&matchType=prefix\n    &filter=statuscode:200&filter=mimetype:text/html&collapse=urlkey\n    &collapse=timestamp:4&limit=100000``.\n * @param {Object} option\n * Option baseURL defines the target Wayback Machine server.\n * Option indicatorImg defines the graphic to display while loading data from\n * the Wayback Machine. If undefined, no loading graphic is displayed.\n */\nimport * as d3 from 'd3';\n\n\nexport function RadialTree(element, cdx_data, option){\n    var GlobYear = 0;\n    var baseURL = 'https://web.archive.org';\n    var indicatorImg;\n    // Use typeof check to allow empty string in baseURL value\n    if (typeof option.baseURL !== 'undefined') {\n        baseURL = option.baseURL;\n    }\n    if (option.indicatorImg) {\n        indicatorImg = option.indicatorImg;\n    }\n    if (!option.url) return;\n\n    Init(element);\n    GetData(option.url, cdx_data, function(success, err, allYears, yearData){\n        if(indicatorImg) {\n            element.querySelector(\".rt-indicator\").style.display = \"none\";\n        }\n        if (!success) return;\n\n        CreateYearButtons(element, option, allYears, yearData);\n    });\n\n    function Init(container){\n        var content = document.createElement(\"div\");\n        content.setAttribute(\"class\", \"rt-content\");\n        var divBtn = document.createElement(\"div\");\n        divBtn.setAttribute(\"class\", \"div-btn\");\n\n        var sequence = document.createElement(\"p\");\n        sequence.setAttribute(\"class\", \"sequence\");\n        var chart = document.createElement(\"div\");\n        chart.setAttribute(\"id\", \"chart\");\n        if(indicatorImg) {\n            var indicator = document.createElement(\"img\");\n            indicator.setAttribute(\"src\", indicatorImg);\n            indicator.setAttribute(\"class\", \"rt-indicator\");\n            chart.appendChild(indicator);\n        }\n        content.appendChild(divBtn);\n        content.appendChild(sequence);\n        content.appendChild(chart);\n        content.style.display = \"block\";\n\n        container.appendChild(content);\n    }\n\n    function GetData(url, response, cb){\n        var regexHTTP   = /http:\\/\\//;\n        var regexHTTPS  = /https:\\/\\//;\n        var regexLast   = /\\/$/;\n        url.replace(regexHTTP, \"\");\n        url.replace(regexHTTPS, \"\");\n        url.replace(regexLast, \"\");\n\n        if (response.length == 0) cb(true, []);\n\n        var yearUrl = [];\n        for(var i=1; i<response.length; i++) {\n            if (response[i][1].match(/jpg|pdf|png|form|gif/)) {\n                continue;\n            }\n            response[i][1] = response[i][1].trim().replace(\":80/\", \"/\");\n            if(response[i][0] in yearUrl) {\n                yearUrl[response[i][0]].push(response[i][1]);\n            } else {\n                yearUrl[response[i][0]] = [response[i][1]];\n            }\n        }\n        var ret = [];\n        for (var year in yearUrl) {\n            ret.push([year].concat(yearUrl[year]));\n        }\n        /** ret has the following format:\n          *  array(\n          *    array(2005, url1, url2, .... urlN),\n          *    ...\n          *  ) **/\n        var years = (function(){\n            for (var i=0; i<ret.length; i++) {\n                for (var j=1; j<ret[i].length; j++) {\n                    var url;\n                    if (ret[i][j].includes(\"http\")) {\n                        url = ret[i][j].substring(7);\n                    } else if (ret[i][j].includes(\"https\")) {\n                        url = ret[i][j].substring(8);\n                    }\n                    if (url.includes('//')) {\n                        url = url.split('//').join('/');\n                    }\n                    url = url.split('/').join('/');\n                    ret[i][j] = url;\n                }\n            }\n            return ret;\n        }());\n        var all_years = years.map(function(year) {\n            if(year.length > 1) {\n                return year[0];\n            }\n        });\n        cb(true, null, all_years, years);\n    }\n\n    function CreateYearButtons(element, option, allYears, yearData){\n        var divBtn = element.querySelector(\".div-btn\");\n        if (!element.querySelector(\".year-btn\")){\n            allYears.forEach(function(year, i){\n                var btn = document.createElement(\"button\");\n                btn.setAttribute(\"class\", \"year-btn\");\n                btn.setAttribute(\"id\", allYears[i]);\n                btn.innerHTML = allYears[i];\n                btn.onclick = function(evt){\n                    var target = evt.target;\n                    if (element.querySelector(\".active-btn\")) {\n                        element.querySelector(\".active-btn\").classList.remove(\"active-btn\");\n                    }\n                    target.classList.add(\"active-btn\");\n                    GlobYear = target.id;\n                    var num = allYears.indexOf(target.id);\n                    var text = MakeNewText(num, yearData);\n                    DrawChart(element, option, text);\n                };\n                divBtn.appendChild(btn);\n                if (i == allYears.length - 1) btn.click();\n            });\n        }\n    }\n\n    function DrawChart(element, option, text){\n        element.querySelector(\".sequence\").innerHTML    = \"\";\n        element.querySelector(\"#chart\").innerHTML       = \"\";\n        const width = element.querySelector('#chart').offsetWidth;\n        const height = width;\n        const radius = Math.min(width, height) / 2;\n        var colors = d3.scaleOrdinal(d3.schemeCategory20b);\n        var vis = d3.select(\"#chart\")\n            .append(\"svg:svg\")\n            .attr(\"width\", width)\n            .attr(\"height\", height)\n            .append(\"svg:g\")\n            .attr(\"id\", \"d3_container\")\n            .attr(\"transform\", \"translate(\" + width / 2 + \",\" + height / 2 + \")\");\n        var partition = d3.partition()\n            .size([2 * Math.PI, radius * radius]);\n        var arc = d3.arc()\n            .startAngle(function(d) { return d.x0; })\n            .endAngle(function(d) { return d.x1; })\n            .innerRadius(function(d) { return Math.sqrt(d.y0); })\n            .outerRadius(function(d) { return Math.sqrt(d.y1); });\n\n        var csv = d3.csvParseRows(text);\n        var json = BuildHierarchy(csv);\n        CreateVisualization(json);\n\n        function CreateVisualization(json) {\n            vis.append(\"svg:circle\")\n                .attr(\"r\", radius)\n                .style(\"opacity\", 0);\n            var root = d3.hierarchy(json)\n                .sum(function(d) { return d.size; })\n                .sort(function(a, b) { return b.value - a.value; });\n            var nodes = partition(root)\n                .descendants();\n            var path = vis.data([json])\n                .selectAll(\"path\")\n                .data(nodes)\n                .enter()\n                .append(\"svg:path\")\n                .attr(\"display\", function(d) { return d.depth ? null : \"none\"; })\n                .attr(\"d\", arc)\n                .attr(\"fill-rule\", \"evenodd\")\n                .style(\"fill\", function(d) {\n                    if (d.data.name == 'end') { return '#000000'; } else {\n                        return colors((d.children ? d : d.parent).data.name);\n                    }\n                })\n                .style(\"opacity\", 1)\n                .style(\"cursor\", 'pointer')\n                .on(\"mouseover\", mouseover)\n                .on(\"touchstart\", touchStart)\n                .on(\"click\", OpenTheUrl);\n\n            d3.select(\"#d3_container\")\n            .on(\"mouseleave\", mouseleave);\n        }\n\n        /** on mobile devices, touching the RadialTree prevents the ``click``\n         *  event and shows the URL like on ``mouseover`` event. Users can click\n         *  on the URL to visit the target page */\n        function touchStart(d) {\n            d3.event.preventDefault();\n            d3.event.stopPropagation();\n            mouseover(d);\n        }\n\n        function currentUrl(d) {\n            const anc = d.ancestors().reverse();\n            let url = \"\";\n            for (var i = 1; i < anc.length; i++) {\n                if (anc[i].data.name == 'end') {\n                    break;\n                }\n                url = url + '/' + anc[i].data.name;\n            }\n            return `${baseURL}/web/${GlobYear}0630${url}`;\n        }\n\n        function OpenTheUrl(d) {\n            window.location = currentUrl(d);\n        }\n\n        function mouseover(d) {\n            var sequenceArray = d.ancestors().reverse();\n            sequenceArray.shift();\n            var url = currentUrl(d);\n            UpdateBreadcrumbs(sequenceArray, url);\n            d3.selectAll(\"path\").style(\"opacity\", 0.3);\n            vis.selectAll(\"path\").filter(function(node) {\n                return (sequenceArray.indexOf(node) >= 0);\n            }).style(\"opacity\", 1);\n        }\n        \n        function mouseleave(d) {\n            element.querySelector(\".sequence\").innerHTML = \"\";\n            d3.selectAll(\"path\").on(\"mouseover\", null);\n            d3.selectAll(\"path\").transition().style(\"opacity\", 1).on(\"end\", function() {\n                d3.select(this).on(\"mouseover\", mouseover);\n            });\n        }\n\n        function UpdateBreadcrumbs(nodeArray, url) {\n            var text = \"\";\n            var symb = document.createElement('span');\n            symb.setAttribute('class', 'symb');\n            symb.innerHTML = \"/\";\n            for (var i = 0; i < nodeArray.length; i++) {\n                if (i == 0) {\n                    text = \" \" + nodeArray[i].data.name;\n                } else {\n                    text = text + symb.innerHTML + nodeArray[i].data.name;\n                }\n            }\n            text = decodeURIComponent(text);\n            element.querySelector(\".sequence\").innerHTML = `<a href=\"${url}\">${text}</a>`;\n        }\n\n        function BuildHierarchy(csv) {\n            csv.sort(function(a, b) {\n                return a[0].length - b[0].length || a[0].localeCompare(b[0]);\n            });\n            var real_urls = {};\n            real_urls[option.url] = 1;\n            if (option.url.slice(-1) != '/') {\n                real_urls[option.url + '/'] = 1;\n            }\n            for (var i = 0, length = csv.length; i < length; i++) {\n                var key = String(csv[i][0]).trim().replace(\":80/\", \"/\");\n                real_urls[key] = 1;\n                if (key.slice(-1) != '/') {\n                    real_urls[key + '/'] = 1;\n                }\n            }\n\n            var DELIMITER = '|';\n\n            function FilterRealUrl(url) {\n                var parts = url.trim().split(\"/\");\n                var delimiter_index = [];\n                for (var i = 1; i < parts.length; i++) {\n                    var potentialUrl = parts.slice(0, i).join(\"/\");\n                    if (potentialUrl in real_urls === false && i > 0) {\n                        var pos = parts.slice(0, i).join('/').length;\n                        delimiter_index.push(pos);\n                    }\n                }\n                if (delimiter_index.length > 0) {\n                    var result_url = url;\n                    for (var j = 1; j < delimiter_index.length; j++) {\n                        var index = delimiter_index[j];\n                        result_url = result_url.substr(0, index) + DELIMITER + result_url.substr(index + 1);\n                    }\n                    return result_url;\n                }\n                return url;\n            }\n            var root = { name: \"root\", children: [] };\n            for (var i = 0; i < length; i++) {\n                var sequence = FilterRealUrl(csv[i][0]);\n                var size = +csv[i][1];\n                if (isNaN(size)) {\n                    continue;\n                }\n                var parts = sequence.split(\"/\");\n                parts = parts.map(function(s) { return s.replace(/\\|/g, '/'); });\n                var currentNode = root;\n                for (var j = 0; j < parts.length; j++) {\n                    var children = currentNode.children;\n                    var nodeName = parts[j];\n                    var childNode;\n                    if (j + 1 < parts.length) {\n                        var foundChild = false;\n                        for (var k = 0; k < children.length; k++) {\n                            if (children[k].name == nodeName) {\n                                childNode = children[k];\n                                foundChild = true;\n                                break;\n                            }\n                        }\n                        if (!foundChild) {\n                            childNode = { name: nodeName, children: [] };\n                            children.push(childNode);\n                        }\n                        currentNode = childNode;\n                    } else {\n                        childNode = { name: nodeName, size: size };\n                        children.push(childNode);\n                    }\n                }\n            }\n            return root;\n        }\n    }\n\n    function MakeNewText(n, yearData){\n        var text = \"\";\n        var x = 2;\n        if (yearData[n].length == 2) {\n            x = 1;\n        }\n        for (var i = x; i < yearData[n].length; i++) {\n            if (i != (yearData[n].length - 1)) {\n                text = text + yearData[n][i] + \" ,1\" + \"\\n\";\n            } else {\n                text = text + yearData[n][i] + \" ,1\";\n            }\n        }\n        return text;\n    }\n}\n"],"names":["element","cdx_data","option","indicatorImg","GlobYear","baseURL","url","container","content","document","createElement","setAttribute","divBtn","sequence","chart","indicator","appendChild","style","display","response","cb","replace","length","yearUrl","i","match","trim","push","ret","year","concat","years","j","includes","substring","split","join","all_years","map","success","err","allYears","yearData","querySelector","forEach","btn","innerHTML","onclick","evt","target","classList","remove","add","id","num","indexOf","text","n","x","MakeNewText","width","offsetWidth","height","radius","Math","min","colors","d3","vis","append","attr","partition","size","PI","arc","startAngle","d","x0","endAngle","x1","innerRadius","sqrt","y0","outerRadius","y1","json","root","sum","sort","a","b","value","nodes","descendants","data","selectAll","enter","depth","name","children","parent","on","mouseover","touchStart","OpenTheUrl","mouseleave","csv","localeCompare","real_urls","slice","key","String","DELIMITER","FilterRealUrl","parts","delimiter_index","potentialUrl","pos","result_url","index","substr","isNaN","s","currentNode","childNode","nodeName","foundChild","k","BuildHierarchy","preventDefault","stopPropagation","currentUrl","anc","ancestors","reverse","location","sequenceArray","shift","nodeArray","symb","decodeURIComponent","filter","node","transition","this","click"],"mappings":"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"}